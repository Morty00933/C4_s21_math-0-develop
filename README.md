# s21_math

![C](https://img.shields.io/badge/C-11-blue.svg) ![Лицензия](https://img.shields.io/badge/Лицензия-MIT-green.svg) ![Статус сборки](https://img.shields.io/badge/Сборка-Успешно-brightgreen.svg)

Библиотека `s21_math` — это собственная реализация стандартной математической библиотеки C (`math.h`), созданная в рамках проекта School 21. Она включает набор математических функций с высокой точностью, таких как тригонометрические, экспоненциальные, логарифмические и утилитарные. Написана на C11 и поддерживает кросс-платформенность для Linux и macOS.

## Содержание

- [Особенности](#особенности)
- [Установка](#установка)
- [Использование](#использование)
- [Поддерживаемые функции](#поддерживаемые-функции)
- [Тестирование](#тестирование)
- [Покрытие кода](#покрытие-кода)
- [Как внести вклад](#как-внести-вклад)
- [Лицензия](#лицензия)

## Особенности

- **Высокая точность**: Использует `long double` для вычислений.
- [x] **Кросс-платформенность**: Работает на macOS (Darwin) и Linux.
- [x] **Тестирование**: Юнит-тесты с использованием библиотеки `Check` для проверки корректности.
- [x] **Покрытие кода**: Отчёты о покрытии с помощью `gcov` и `lcov`.
- [x] **Собственные константы**: Определены `s21_PI`, `s21_INF`, `s21_NAN` и др.
- [x] **Обработка ошибок**: Корректная работа с `NaN`, бесконечностью и некорректными входными данными.

## Установка

Для сборки и использования `s21_math` выполните следующие шаги:

### Требования

- Компилятор GCC
- Утилита Make
- Библиотека Check (`libcheck` для тестов)
- lcov (для отчётов о покрытии, опционально)
- cppcheck и clang-format (для проверки качества кода, опционально)

Установка на Linux:
```bash
sudo apt-get install gcc make libcheck-dev lcov cppcheck clang-format
```

Установка на macOS:
```bash
brew install gcc make check lcov cppcheck clang-format
```

### Инструкция по сборке

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/yourusername/s21_math.git
   cd s21_math
   ```

2. Соберите библиотеку и запустите тесты:
   ```bash
   make all
   ```

3. (Опционально) Сгенерируйте отчёт о покрытии кода:
   ```bash
   make gcov_report
   ```

4. Очистите временные файлы:
   ```bash
   make clean
   ```

В результате будет создана статическая библиотека `s21_math.a`, которую можно использовать в ваших проектах.

## Использование

Подключите заголовочный файл `s21_math.h` и свяжите с `s21_math.a`. Пример:

```c
#include "s21_math.h"
#include <stdio.h>

int main() {
    double x = 0.5;
    printf("s21_sin(%.2f) = %.10Lf\n", x, s21_sin(x));
    printf("s21_pow(2, 3) = %.10Lf\n", s21_pow(2.0, 3.0));
    return 0;
}
```

Компиляция и запуск:
```bash
gcc -std=c11 main.c s21_math.a -o my_program
./my_program
```

## Поддерживаемые функции

| Функция          | Описание                               |
|------------------|----------------------------------------|
| `s21_abs`        | Абсолютное значение целого числа       |
| `s21_fabs`       | Абсолютное значение числа с плавающей точкой |
| `s21_ceil`       | Округление вверх до целого             |
| `s21_floor`      | Округление вниз до целого              |
| `s21_fmod`       | Остаток от деления чисел с плавающей точкой |
| `s21_sin`        | Синус угла (в радианах)                |
| `s21_cos`        | Косинус угла (в радианах)              |
| `s21_tan`        | Тангенс угла (в радианах)              |
| `s21_asin`       | Арксинус (обратный синус)              |
| `s21_acos`       | Арккосинус (обратный косинус)          |
| `s21_atan`       | Арктангенс (обратный тангенс)          |
| `s21_sqrt`       | Квадратный корень                      |
| `s21_exp`        | Экспонента (e^x)                     |
| `s21_log`        | Натуральный логарифм (по основанию e)  |
| `s21_pow`        | Возведение в степень (base^exp)        |

Специальные константы:
- `s21_PI`, `s21_NPI` (отрицательное PI)
- `s21_INF`, `s21_NEG_INF`, `s21_NAN`
- `s21_EPSILON`, `s21_TOLERANCE` и др.

## Тестирование

Библиотека включает набор тестов на основе `Check`. Для запуска тестов:

```bash
make test
```

### Примеры тестов

- `s21_sin(0)` → `0`
- `s21_pow(2, 3)` → `8`
- `s21_sqrt(-1)` → `NaN`
- `s21_exp(s21_INF)` → `s21_INF`

Тесты проверяют как обычные случаи, так и граничные значения.

## Покрытие кода

Для генерации отчёта о покрытии кода:

```bash
make gcov_report
```

Отчёт будет сохранён в папке `report/` в виде HTML-файла `index.html`. Откройте его в браузере для просмотра.

## Как внести вклад

Мы рады вашим улучшениям! Чтобы внести вклад:

1. Сделайте форк репозитория.
2. Создайте новую ветку (`git checkout -b feature/ваше-улучшение`).
3. Внесите изменения и закоммитьте (`git commit -m "Добавлено улучшение"`).
4. Отправьте изменения в свой форк (`git push origin feature/ваше-улучшение`).
5. Откройте Pull Request.

Убедитесь, что код соответствует стандарту C11 и проходит все тесты. Используйте `make check` для проверки качества и утечек памяти.

## Лицензия

Проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).
